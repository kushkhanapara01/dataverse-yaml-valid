version: 0.1.0
alias: Load final PMS State
discoveryPort:
  name: PMS
  description: ""
  category: ""
  image: ""
  autofillUserinfo: ""
  tags: []
  extra: {}
  createdBy:
    name: ""
    userid: ""
    email: ""
  createdTs: ""
  updatedTs: ""
inputPorts:
  - alias: PMSTransactions1
    description: PMS Transactions
    tags: []
    extra: {}
    syncType: pull
    type: s3-csv
    dataSetUrn: urn:dv:dataset:aab2feae-580d-4f1f-9bd0-4a6b59872330
    incrementalStrategy: {}
    filter: ""
    projection: []
    entity:
      createEntity: true
      path: s3://bp-spark-sql-library-test-acc/PMS_Transaction_Data.csv
      variables:
        - key: ""
          value: ""
      advanceOptions:
        delimiter: ","
        header: false
  - alias: PMSMaster1
    description: PMS Transactions
    tags: []
    extra: {}
    syncType: pull
    type: s3-csv
    dataSetUrn: urn:dv:dataset:aab2feae-580d-4f1f-9bd0-4a6b59872330
    incrementalStrategy: {}
    filter: ""
    projection: []
    entity:
      createEntity: true
      path: s3://bp-spark-sql-library-test-acc/PMS_Transaction_Data.csv
      variables:
        - key: ""
          value: ""
      advanceOptions:
        delimiter: ","
        header: false
productState:
  alias: Load final PMS State
  refreshInterval: ""
  logicalSchemaUrn: ""
  retentionVersions: ""
  updateStrategy: append
  logicalSchema: ""
  productStoreState:
    enforceSchemaMethod: Warning
  updateStrategyOptions:
    - entityRef: ""
      uniqueKeyColumns: []
      changeTrackColumns: []
      timeTrackColumn: ""
transformation:
  - alias: Join1
    type: ""
    description: Join PMS Master and transaction
  - alias: SelectColumns1
    type: ""
    description: Select required columns for joined PMS
controlPort:
  dataQualityCheck:
    tableId:
      stateManagement:
        checks: 2865
    enable:
      stateManagement:
        checks: true
    RecordCountCheck:
      stateManagement:
        checks:
          expression: ">="
          number: 220
    NullValueCheck:
      stateManagement:
        checks:
          - column: NEName
            expression: ==
            number: 100
            stepsToFix: Fix on your own
