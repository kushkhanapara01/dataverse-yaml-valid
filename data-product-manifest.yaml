version: 0.1.0
jobId: "572"
jobName: Test Source Aligned 4
jobType: Source Aligned Data Product
alias: Test_Iceberg_Table
discoveryPort:
  name: Test Source Aligned 4
  description: ""
  category: ""
  image: https://google.com
  autofillUserinfo: ""
  tags: []
  extra: {}
inputPorts:
  - alias: Test_4_1
    description: Test 4
    tags: []
    extra: {}
    syncType: pull
    type: s3-csv
    dataSetUrn: urn:dv:dataset:d4721b29-5a1b-4db4-8c31-6c00efe57ae6
    filter: ""
    projection: []
productState:
  alias: Test_Iceberg_Table
  refreshInterval: ""
  retentionVersions: ""
  updateStrategy: overwrite
  logicalSchema:
    properties:
      id:
        type: NUMBER
      name:
        type: STRING
      marks:
        type: NUMBER
      modified:
        type: DATETIME
  productStoreState:
    enforceSchemaMethod: Error
  isProfilingEnabled: true
transformation:
  - alias: Select_Columns_1
    type: ""
    description: Test Transformation
controlPort:
  dataQualityRules:
    tableId:
      productState:
        checks: 2863
        referenceAlias: Test_Iceberg_Table
      inputPort:
        - checks: 2863
          referenceAlias: Test_4_1
    enable:
      productState:
        checks: true
        referenceAlias: Test_Iceberg_Table
      inputPort:
        - checks: true
          referenceAlias: Test_4_1
      transformation:
        - checks: true
          referenceAlias: Select_Columns_1
    RecordCountCheck:
      productState:
        expression: ">="
        number: 111
        referenceAlias: Test_Iceberg_Table
      inputPort:
        - checks:
            expression: ">="
            number: 10
          referenceAlias: Test_4_1
      transformation:
        - checks:
            expression: ">="
            number: 16
          referenceAlias: Select_Columns_1
    NullValueCheck:
      productState:
        checks:
          - column: test
            expression: <
            number: 11
        referenceAlias: Test_Iceberg_Table
      transformation:
        - checks:
            - column: test
              expression: <=
              number: 15
          referenceAlias: Select_Columns_1
    UnacceptableTextValueCheck:
      productState:
        checks:
          - column: test
            valueList:
              - "1"
            expression: "!="
            number: 1
        referenceAlias: Test_Iceberg_Table
    UniqueCombinationCheck:
      transformation:
        - checks:
            - columns:
                - test
              owner: test
              stepsToFix: test
          referenceAlias: Select_Columns_1
    DistinctValueCountCheck:
      transformation:
        - checks:
            - column: test
              expression: ">="
              number: 11
          referenceAlias: Select_Columns_1
