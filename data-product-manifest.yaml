version: 0.1.0
alias: Load_final_PMS_State
discoveryPort:
  name: PMS
  description: ""
  category: ""
  image: ""
  autofillUserinfo: ""
  tags: []
  extra: {}
  createdBy:
    name: ""
    userid: ""
    email: ""
  createdTs: ""
  updatedTs: ""
inputPorts:
  - alias: Test0001_input_port
    description: dqcheck
    type: s3-csv
    tags: []
    syncType: pull
    dataSetUrn: urn:dv:dataset:7eb2db7c-a3b1-4f91-9d0b-6c45faa4e9bb
    entity:
      path: s3://dataverse-byte/sample-data/inputData/demo/demo_update2.csv
      variables:
        - key: timeStamp
          value: date-YYYYMMdd
      advanceOptions:
        delimiter: ','
        header: true
      filter: ""
      projection:
        - id
        - name
        - marks
        - modified
productState:
  alias: Load final PMS State
  refreshInterval: ""
  retentionVersions: ""
  updateStrategy: scd1
  logicalSchema: {}
  productStoreState:
    enforceSchemaMethod: Warning
  updateStrategyOptions:
    actualTimeColumn: nothing
    uniqueKeyColumns:
        - id
    changeTrackingColumns:
        - marks
    timeTrackingColumn: modified
transformation:
  - alias: Join1
    type: ""
    description: Join PMS Master and transaction
    query: ""
  - alias: SelectColumns1
    type: ""
    description: Select required columns for joined PMS
    query: ""
controlPort:
  dataQualityCheck:
    RecordCountCheck:
      stateManagement:
        checks:
          expression: ">="
          number: 220
    NullValueCheck:
      stateManagement:
        checks:
          - column: NEName
            expression: ==
            number: 100
            stepsToFix: Fix on your own
